webpackJsonp([1,4],{108:function(e,t,n){"use strict";var i=n(0),r=n(150),o=n(68),s=(n.n(o),n(158));n.d(t,"a",function(){return d});var a=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t){var n=this;this.http=e,this.eventEmitter=t,this.userSource=new o.BehaviorSubject(null),this.receiverSource=new o.BehaviorSubject(null),this.newMessageSource=new o.BehaviorSubject(null),this.isReady=new o.BehaviorSubject(!1),this.friendsListSource=new o.BehaviorSubject(null),this.eventEmitter.isReady.subscribe(function(e){e&&n.eventEmitter.user.subscribe(function(e){e&&(n.eventEmitter.handleEmittedEvent("receiveFriendsList").subscribe(function(e){e&&n.friendsListSource.next(e)}),n.eventEmitter.handleEmittedEvent("newMessage").subscribe(function(e){e.class="received",n.newMessageSource.next(e)}),n.userSource.next(e),n.isReady.next(!0))})})}return e.prototype.getConversation=function(e,t){this.eventEmitter.emitEvent({name:"getConversation",arguments:{user1:e,user2:t}})},e.prototype.getFriendsList=function(e){this.eventEmitter.emitEvent({name:"getFriendsList",arguments:{user_id:e}})},e.prototype.sendMessage=function(e){this.eventEmitter.emitEvent({name:"sendMessage",arguments:e}),this.newMessageSource.next(e)},e.prototype.setCurrentReceiver=function(e){this.receiverSource.next(e)},e=a([n.i(i.c)(),c("design:paramtypes",["function"==typeof(t=void 0!==r.b&&r.b)&&t||Object,"function"==typeof(d=void 0!==s.a&&s.a)&&d||Object])],e);var t,d}()},158:function(e,t,n){"use strict";var i=n(0),r=n(11),o=(n.n(r),n(765)),s=(n.n(o),n(227)),a=n(68),c=(n.n(a),n(156));n.d(t,"a",function(){return f});var d=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e,t){var n=this;this.loginService=e,this.router=t,this.isReady=new a.BehaviorSubject(!1),this.disconnected=new a.BehaviorSubject(!1),this.user=new a.BehaviorSubject(null),this.loginService.isLoggedIn.subscribe(function(e){e&&n.loginService.user.subscribe(function(e){e&&(n.initServerEventsEmitter(),n.handleEmittedEvent("clientRegistrationResponse").subscribe(function(t){t.isRegistered&&(n.user.next(e),n.isReady.next(!0))}),n.emitEvent({name:"registerClientToClients",arguments:{_id:e._id}}))})})}return e.prototype.ngOnInit=function(){},e.prototype.initServerEventsEmitter=function(){var e=this;this.socket=o("http://localhost:3000"),this.socket.on("connect",function(){console.log("connected to the server")}),this.socket.on("disconnect",function(){console.log("disconnected from the server"),e.disconnected.next(!0),e.router.navigate(["/"]),e.socket.close()})},e.prototype.emitEvent=function(e){this.socket.emit(e.name,e.arguments)},e.prototype.handleEmittedEvent=function(e){var t=this;return r.Observable.create(function(n){t.socket.on(e,function(e){n.next(e)})})},e=d([n.i(i.c)(),l("design:paramtypes",["function"==typeof(t=void 0!==s.a&&s.a)&&t||Object,"function"==typeof(f=void 0!==c.a&&c.a)&&f||Object])],e);var t,f}()},226:function(e,t,n){"use strict";var i=n(0),r=n(108);n.d(t,"a",function(){return a});var o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){var t=this;this.chatService=e,this.friendsListMap=new Map,this.chatService.isReady.subscribe(function(e){e&&t.chatService.userSource.subscribe(function(e){e&&(t.user=e)})})}return e.prototype.registerToFriendsListMap=function(e){this.friendsListMap.set(e.friend._id,e)},e.prototype.setChatlistItemNewMessage=function(e){(e.senderID==this.user._id?this.friendsListMap.get(e.receiverID):this.friendsListMap.get(e.senderID)).pushMessage(e)},e=o([n.i(i.c)(),s("design:paramtypes",["function"==typeof(t=void 0!==r.a&&r.a)&&t||Object])],e);var t}()},227:function(e,t,n){"use strict";var i=n(0),r=n(150),o=n(736),s=(n.n(o),n(737)),a=(n.n(s),n(11)),c=(n.n(a),n(68));n.n(c);n.d(t,"a",function(){return f});var d=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e){this._http=e,this.user=new c.BehaviorSubject(null),this.isLoggedIn=new c.BehaviorSubject(!1)}return e.prototype.login=function(e){var t=this;return new a.Observable(function(n){t._http.post("/login",e).subscribe(function(e){n.next(e.json())})})},e=d([n.i(i.c)(),l("design:paramtypes",["function"==typeof(t=void 0!==r.b&&r.b)&&t||Object])],e);var t}()},344:function(e,t,n){"use strict";var i=n(0);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e.prototype.ngOnInit=function(){},e=r([n.i(i._6)({selector:"app-chat",template:n(724),styles:[n(714)]}),o("design:paramtypes",[])],e)}()},345:function(e,t,n){"use strict";var i=n(0),r=n(156),o=n(227);n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.router=e,this.loginService=t}return e.prototype.ngOnInit=function(){},e.prototype.onLoginClick=function(){var e=this,t={email:this.email.toLowerCase(),password:this.password};this.loginService.login(t).subscribe(function(n){n.login?(e.appendErrorMessage(""),e.loginService.user.next(n.user),e.loginService.isLoggedIn.next(!0),e.loginService.isLoggedIn.complete(),e.router.navigate(["./chat"])):(e.appendErrorMessage("Invalid credentials"),console.log(e.errorMessage),console.log(t))})},e.prototype.appendErrorMessage=function(e){this.errorMessage=e},e.prototype.onRegisterClick=function(){this.router.navigate(["./login/register"])},e=s([n.i(i._6)({selector:"app-login",template:n(728),styles:[n(718)]}),a("design:paramtypes",["function"==typeof(t=void 0!==r.a&&r.a)&&t||Object,"function"==typeof(c=void 0!==o.a&&o.a)&&c||Object])],e);var t,c}()},346:function(e,t,n){"use strict";var i=n(0),r=n(347),o=n(156);n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.registerService=e,this.router=t,this.isFormValid=!1,this.profilePicture="http://voice4thought.org/wp-content/uploads/2016/08/default2-1-1.jpg"}return e.prototype.ngOnInit=function(){},e.prototype.register=function(){var e=this,t={name:this.firstName,last_name:this.lastName,nickname:this.nickname,email:this.email.toLowerCase(),profile_picture:this.profilePicture,password:this.password};this.registerService.postRegistration(t).subscribe(function(t){t!=={}&&(console.log(t),e.router.navigate(["/"]))})},e.prototype.validateForm=function(){},e.prototype.onImageSelected=function(e){},e=s([n.i(i._6)({selector:"app-register",template:n(730),styles:[n(720)]}),a("design:paramtypes",["function"==typeof(t=void 0!==r.a&&r.a)&&t||Object,"function"==typeof(c=void 0!==o.a&&o.a)&&c||Object])],e);var t,c}()},347:function(e,t,n){"use strict";var i=n(0),r=n(150),o=n(11);n.n(o);n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this._http=e}return e.prototype.postRegistration=function(e){var t=this;return new o.Observable(function(n){t._http.post("/login/register",e).subscribe(function(e){return n.next(e.json())})})},e=s([n.i(i.c)(),a("design:paramtypes",["function"==typeof(t=void 0!==r.b&&r.b)&&t||Object])],e);var t}()},348:function(e,t,n){"use strict";var i=n(0),r=n(158),o=n(68);n.n(o);n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){var t=this;this.serverEventEmitter=e,this.resultsList=new o.BehaviorSubject(null),this.isReady=new o.BehaviorSubject(!1),this.serverEventEmitter.user.subscribe(function(e){e&&(t.user_id=e._id,t.serverEventEmitter.handleEmittedEvent("receiveSearchResults").subscribe(function(e){e&&t.resultsList.next(e)}),t.isReady.next(!0))})}return e.prototype.searchFriends=function(e){e.user_id=this.user_id,this.serverEventEmitter.emitEvent({name:"searchFriends",arguments:e})},e=s([n.i(i.c)(),a("design:paramtypes",["function"==typeof(t=void 0!==r.a&&r.a)&&t||Object])],e);var t}()},418:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=418},419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(506),r=n(0),o=n(546),s=n(537);o.a.production&&n.i(r.a)(),n.i(i.a)().bootstrapModule(s.a)},536:function(e,t,n){"use strict";var i=n(0);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){console.log("app component")}return e.prototype.ngOnInit=function(){},e=r([n.i(i._6)({selector:"app-root",template:n(723),styles:[n(713)]}),o("design:paramtypes",[])],e)}()},537:function(e,t,n){"use strict";var i=n(154),r=n(0),o=n(497),s=n(150),a=n(158),c=n(227),d=n(536),l=n(541),f=n(540),u=n(345),p=n(346),g=n(347),h=n(344),v=n(108),m=n(538),b=n(539),y=n(226),x=n(348),w=n(544),R=n(543),_=n(542);n.d(t,"a",function(){return O});var j=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},k=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},O=function(){function e(){}return e=j([n.i(r.b)({declarations:[d.a,l.a,f.a,u.a,p.a,h.a,b.a,w.a,R.a,_.a],imports:[i.a,o.a,s.a,m.a],providers:[a.a,c.a,g.a,v.a,y.a,x.a],bootstrap:[d.a]}),k("design:paramtypes",[])],e)}()},538:function(e,t,n){"use strict";var i=n(156),r=n(346),o=n(345),s=n(344);n.d(t,"a",function(){return c});var a=[{path:"",component:o.a},{path:"chat",component:s.a},{path:"login/register",component:r.a}],c=i.b.forRoot(a)},539:function(e,t,n){"use strict";var i=n(0),r=n(226),o=n(545);n.n(o);n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.chatlistItemService=e,this.newMessageCount=0}return e.prototype.ngOnInit=function(){this.messages=this.friend.messages,this.chatlistItemService.registerToFriendsListMap(this),this.setLastMessage(this.messages[this.messages.length-1])},e.prototype.setLastMessage=function(e){e&&e.senderID!==this.friend._id&&(e.sender_name="You: "),this.lastMessage=e},e.prototype.setMessages=function(e){this.messages=e,this.setLastMessage(this.messages[this.messages.length-1])},e.prototype.pushMessage=function(e){this.messages.push(e),this.setLastMessage(e)},e.prototype.incrementNewMessageCount=function(){this.newMessageCount++},e.prototype.resetNewMessageCount=function(){this.newMessageCount=0},s([n.i(i.w)(),a("design:type","function"==typeof(t=void 0!==o.Friend&&o.Friend)&&t||Object)],e.prototype,"friend",void 0),e=s([n.i(i._6)({selector:"app-chatlist-item",template:n(725),styles:[n(715)]}),a("design:paramtypes",["function"==typeof(c=void 0!==r.a&&r.a)&&c||Object])],e);var t,c}()},540:function(e,t,n){"use strict";var i=n(0),r=n(108),o=n(226);n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.chatService=e,this.chatlistItemService=t,this.friendsList=[],this.loadingList=!0}return e.prototype.ngOnInit=function(){var e=this;this.chatService.isReady.subscribe(function(t){t&&e.chatService.userSource.subscribe(function(t){t&&(e.user=t,e.chatService.friendsListSource.subscribe(function(t){t&&(null!==t[0]&&(e.friendsList=t),e.loadingList=!1)}),e.chatService.newMessageSource.subscribe(function(t){t&&e.chatlistItemService.setChatlistItemNewMessage(t)}))})}),this.chatService.getFriendsList(this.user._id)},e.prototype.setCurrentReceiver=function(e){this.chatService.setCurrentReceiver(e)},e=s([n.i(i._6)({selector:"app-chatslist",template:n(726),styles:[n(716)]}),a("design:paramtypes",["function"==typeof(t=void 0!==r.a&&r.a)&&t||Object,"function"==typeof(c=void 0!==o.a&&o.a)&&c||Object])],e);var t,c}()},541:function(e,t,n){"use strict";var i=n(0),r=n(158),o=n(108);n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this.chatService=e,this.eventEmitter=t,this.messages=[]}return e.prototype.ngOnInit=function(){var e=this;this.chatService.userSource.subscribe(function(t){t&&(e.user=t,e.initialEvents(),e.chatService.newMessageSource.subscribe(function(t){t&&e.receiver&&t.senderID===e.receiver._id&&(t.class="received")}))}),this.chatService.receiverSource.subscribe(function(t){t&&(e.receiver=t,e.receiver.messages.forEach(function(t){t.receiverID==e.user._id?t.class="received":t.class="sent"}),e.messages=e.receiver.messages)})},e.prototype.initialEvents=function(){var e=this;this.eventEmitter.isReady.subscribe(function(t){t&&e.eventEmitter.handleEmittedEvent("receiveSocketID").subscribe(function(t){e.socketID=t})})},e.prototype.sendButtonClick=function(){if(this.message){var e={senderID:this.user._id,receiverID:this.receiver._id,conversationID:"",date:Date.now(),time:"",class:"sent",sender_name:"",read:!1,content:this.message};this.chatService.sendMessage(e),this.message="",this.scrollToBottom()}},e.prototype.sendMessageByEnter=function(e){13===e.keyCode&&this.sendButtonClick()},e.prototype.scrollToBottom=function(){},e=s([n.i(i._6)({selector:"app-chatwindow",template:n(727),styles:[n(717)]}),a("design:paramtypes",["function"==typeof(t=void 0!==o.a&&o.a)&&t||Object,"function"==typeof(c=void 0!==r.a&&r.a)&&c||Object])],e);var t,c}()},542:function(e,t,n){"use strict";var i=n(0),r=n(108);n.d(t,"a",function(){return a});var o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.chatService=e,this.tabNavigationIndex=0}return e.prototype.ngOnInit=function(){var e=this;this.chatService.isReady.subscribe(function(t){t&&e.chatService.userSource.subscribe(function(t){t&&(e.user=t)})})},e.prototype.setTabNavigationView=function(e){this.tabNavigationIndex=e},e=o([n.i(i._6)({selector:"app-menu",template:n(729),styles:[n(719)]}),s("design:paramtypes",["function"==typeof(t=void 0!==r.a&&r.a)&&t||Object])],e);var t}()},543:function(e,t,n){"use strict";var i=n(0);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e.prototype.ngOnInit=function(){},e=r([n.i(i._6)({selector:"app-requests",template:n(731),styles:[n(721)]}),o("design:paramtypes",[])],e)}()},544:function(e,t,n){"use strict";var i=n(0),r=n(348);n.d(t,"a",function(){return a});var o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e){this.searchService=e,this.searchTerm={keywords:""},this.resultsList=[],this.loadingList=!1}return e.prototype.ngOnInit=function(){var e=this;this.searchService.isReady.subscribe(function(t){t&&(e.searchService.resultsList.subscribe(function(t){t?(e.resultsList=t,e.loadingList=!1):(e.resultsList=[],e.loadingList=!1)}),e.isReady=!0)})},e.prototype.onSearchButtonClick=function(){this.resultsList=[],this.loadingList=!0,this.searchService.searchFriends(this.searchTerm)},e=o([n.i(i._6)({selector:"app-search",template:n(732),styles:[n(722)]}),s("design:paramtypes",["function"==typeof(t=void 0!==r.a&&r.a)&&t||Object])],e);var t}()},545:function(e,t){},546:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={production:!0}},713:function(e,t){e.exports="body,html{padding:0;margin:0}"},714:function(e,t){e.exports="#app-container{height:100%;width:85%;margin-top:2%;font-family:Source Sans Pro,sans-serif;box-shadow:4px 0 10px rgba(0,0,0,.4),0 4px 7px rgba(0,0,0,.1),0 9px 12px rgba(0,0,0,.4)}.header{background-color:#4caf50;height:65px}"},715:function(e,t){e.exports=".chat-item{height:75px;padding:2%}.chat-item:hover{background-color:#d3d3d3}img{width:50px;height:50px}#new-message,img{border-radius:50%}#new-message{text-align:center;background-color:#4caf50;color:#fff;width:20px;height:20px}#time-stamp{font-size:10px;text-align:center;margin-bottom:5px}#middle-section{padding-left:30px;padding-top:5px}#right-section{padding-top:5px;text-align:center}"},716:function(e,t){e.exports=".col-lg-4{margin:0;padding:0}img{width:50px;height:50px;border-radius:50%;float:left}app-chatlist-item:hover{background-color:#d3d3d3;cursor:pointer}.loader{border:10px solid #f3f3f3;border-radius:50%;border-top:10px solid #4caf50;width:80px;height:80px;margin:45%;margin-top:2%;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"},717:function(e,t){e.exports="#messgae-input{float:left;height:40px;border-radius:0}img{width:50px;height:50px;border-radius:50%}.col-lg-8{padding:0;margin:0}#messaging-window{width:100%;height:510px;padding:1% 2%;padding-bottom:0;background-color:#fff;overflow-y:auto;overflow-x:hidden}#chatting-section{height:100%}#composing-div{width:100%;height:100%}.message-display{height:auto;width:30%;max-width:100%;margin:8px}.message-content{border-radius:25px;box-sizing:border-box;background-color:#3c3;color:#fff}.sent .message-content{padding-left:5%}#welcome-message{text-align:center;height:530px}.list-group{border-radius:0}.message-image{float:left}.header{background-color:green;padding:1%;height:65px}#receiver-title{color:#fff;font-size:17px;margin-top:10%}.received{float:right}.received .message-content{background-color:#98e698;color:#000;float:left}.received .message-image{float:right}::-webkit-scrollbar{width:8px;transform:scale(1)}::-webkit-scrollbar-track{background:#f1f1f1;transform:scale(1)}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb:hover{background:#555}"},718:function(e,t){e.exports="@import url(https://fonts.googleapis.com/css?family=Roboto:300);#background{height:100%;width:100%;background:green}.login-page{width:360px;padding:3% 0 0;margin:auto;height:100%}.form{position:relative;z-index:1;background:#fff;max-width:400px;margin:0 auto 100px;padding:45px;text-align:center;box-shadow:0 0 20px 0 rgba(0,0,0,.2),0 5px 5px 0 rgba(0,0,0,.24)}.form input{background:#f2f2f2;margin:0 0 15px;box-sizing:border-box}.form button,.form input{font-family:Roboto,sans-serif;outline:0;width:100%;border:0;padding:15px;font-size:14px}.form button{text-transform:uppercase;background:green;color:#fff;transition:all .3 ease;cursor:pointer}.form button:active,.form button:focus,.form button:hover{background:#43a047}.form .message{margin:5% 0 0;color:#b3b3b3}#error{height:20px;color:red}"},719:function(e,t){e.exports="#left-chats-menu{height:500px;margin:0;background-color:#fff}#tab-view{height:500px;overflow-y:scroll}.list-group{border-radius:0}.col-lg-4{margin:0;padding:0}#left-chats-menu{height:100%}img{width:50px;height:50px;border-radius:50%;float:left}#user-title{color:#fff;font-size:17px;margin-top:10%}app-chatlist-item:hover{background-color:#d3d3d3;cursor:pointer}.header{padding:2%;background-color:green;height:65px}.input-group{margin:0}.input-group,.input-group *{border-radius:0}a:hover{cursor:pointer}#chatslist-navbar{height:50px;background-color:#4caf50;text-align:center}.chatslist-navbar-item{height:50px;color:#fff;padding:10px;font-size:20px}.chatslist-navbar-item:hover{cursor:pointer}.hiddenTab{display:none}.selectedTab{background-color:#96e6a1}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb:hover{background:#555}"},720:function(e,t){e.exports="@import url(https://fonts.googleapis.com/css?family=Roboto:300);#background{height:100%;width:100%;background:green}.login-page{width:100%;padding:3% 0 0;margin:auto 20%}.form{position:relative;background:#fff;max-width:60%;padding:45px;text-align:center;box-shadow:0 0 20px 0 rgba(0,0,0,.2),0 5px 5px 0 rgba(0,0,0,.24)}.form input{background:#f2f2f2;margin:0 0 15px;box-sizing:border-box}.form button,.form input{font-family:Roboto,sans-serif;outline:0;width:100%;border:0;padding:15px;font-size:14px}.form button{text-transform:uppercase;background:#4caf50;color:#fff;transition:all .3 ease;cursor:pointer}.form button:active,.form button:focus,.form button:hover{background:green}button{max-width:20%}img{width:200px;height:200px;margin-bottom:2%;border:2px solid #b3b3b3;border-radius:50%}"},721:function(e,t){e.exports=""},722:function(e,t){e.exports=".search-bar{margin:0;padding:0}.input-group{margin:0}.input-group,.input-group *{border-radius:0}a:hover{cursor:pointer}#search-title{text-align:center}#add-button:hover{cursor:pointer}.chat-item{height:75px;padding:2%}.chat-item:hover{background-color:#d3d3d3}img{width:50px;height:50px;border-radius:50%}.fas{font-size:25px}#add-button:hover{color:#4caf50}#search-icon{font-size:18px;color:#fff}#middle-section{padding-left:30px;padding-top:5px}#right-section{padding-top:5px;text-align:center}.loader{border:10px solid #f3f3f3;border-radius:50%;border-top:10px solid #4caf50;width:80px;height:80px;margin:45%;margin-top:2%;animation:spin 2s linear infinite}"},723:function(e,t){e.exports="<router-outlet></router-outlet>\n\x3c!--<app-search></app-search>--\x3e\n\n"},724:function(e,t){e.exports='<div class="container" id="app-container">\n  <div class="row">\n    <app-menu></app-menu>\n    <app-chatwindow></app-chatwindow>\n  </div>\n</div>\n'},725:function(e,t){e.exports='<div class="chat-item" *ngIf="friend">\n  <div id="left-section" class="col-lg-2 col-md-3 col-sm-3 col-xs-3">\n    <img [src]="friend.profile_picture">\n  </div>\n\n  <div id="middle-section" class="col-lg-7 col-md-6 col-sm-6 col-xs-6">\n    <div class="row">\n      {{friend.nickname}}\n    </div>\n    <div class="row" *ngIf="lastMessage">\n      {{lastMessage.sender_name}}{{lastMessage.content}}\n    </div>\n  </div>\n\n  <div id="right-section" class="col-lg-3 col-md-3 col-sm-3 col-xs-3" *ngIf="lastMessage">\n    <div id="time-stamp">\n      {{lastMessage.date | date: \'dd-MM-yy\'}}\n    </div>\n    <div id="new-message" *ngIf="newMessageCount > 0">\n      {{newMessageCount}}\n    </div>\n  </div>\n</div>\n\n\n'},726:function(e,t){e.exports='<div id="chats-list" *ngIf="!loadingList" class="tab-view" [ngClass]="{hiddenTab: tabNavigationIndex != 0}">\r\n      <app-chatlist-item *ngFor="let friend of friendsList;"\r\n                         [friend]="friend"\r\n                         (click)="setCurrentReceiver(friend)"></app-chatlist-item>\r\n</div>\r\n\r\n<div class="loader" *ngIf="loadingList"></div>\r\n'},727:function(e,t){e.exports='<div id="chatting-section" *ngIf="user" class="col-lg-8 col-md-8 col-sm-4 col-xs-4">\n\n  <div id="chats-list-header" class="header">\n    <div id="receiverDetails" *ngIf="receiver">\n      <img style="float: left" [src]="receiver.profile_picture">\n      <p style="color: white; margin-left: 1%">{{receiver.nickname}}</p>\n    </div>\n  </div>\n\n  <div *ngIf="receiver">\n    <div id="messaging-window">\n      <div class="row" *ngFor="let msg of messages">\n        <div class="message-display row" [ngClass]="msg.class">\n          <div class="message-image col-lg-4 col-md-4 col-sm-4 col-xs-4">\n            <img [src]="msg.class == \'sent\' ? user.profile_picture : receiver.profile_picture"/>\n          </div>\n          <div class="message-content col-lg-8 col-md-8 col-sm-8 col-xs-8">\n            {{msg.content}}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div id="composing-div">\n      <div class="input-group">\n        <input type="text" class="form-control" id="messgae-input" [(ngModel)]="message"\n               placeholder="Type a message..." (keyup)="sendMessageByEnter($event)">\n        <span class="input-group-btn">\n        <button class="btn btn-default" style="height: 40px; border-radius: 0;" type="button"\n                (click)="sendButtonClick()">Send</button>\n      </span>\n      </div>\x3c!-- /input-group --\x3e\n    </div>\n  </div>\n\n  <div id="welcome-message" *ngIf="!receiver">\n    <h2>Welcome to ChatApp!</h2>\n    <p>Select a friend and start a chat</p>\n  </div>\n</div>\n'},728:function(e,t){e.exports='<div id="background">\r\n<div class="login-page">\r\n  <div class="form">\r\n    <h2 class="fs-title">Log In</h2>\r\n    <p id="error">{{errorMessage}}</p>\r\n    <div class="login-form">\r\n      <input type="text" [(ngModel)]="email" placeholder="Email"/>\r\n      <input type="password" [(ngModel)]="password" placeholder="Password"/>\r\n      <button (click)="onLoginClick()">login</button>\r\n      <p class="message">Not registered? <a (click)="onRegisterClick()">Create an account</a></p>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n'},729:function(e,t){e.exports='<div *ngIf="user" id="left-chats-menu" class="col-lg-4 col-md-4 col-sm-4">\n\n  <div id="chats-list-header" class="header">\n    <img style="float: left" [src]="user.profile_picture">\n    <p style="color: white; margin-left: 1%">{{user.nickname}}</p>\n  </div>\n\n  <div id="chatslist-navbar">\n    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 chatslist-navbar-item"\n         (click)="setTabNavigationView(0)" [ngClass]="{selectedTab: tabNavigationIndex == 0}"><i class="fas fa-comments"></i></div>\n    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 chatslist-navbar-item"\n         (click)="setTabNavigationView(1)" [ngClass]="{selectedTab: tabNavigationIndex === 1}"><i class="fas fa-user-friends"></i></div>\n    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 chatslist-navbar-item"\n         (click)="setTabNavigationView(2)" [ngClass]="{selectedTab: tabNavigationIndex === 2}"><i class="fas fa-search"></i></div>\n  </div>\n\n  <div id="tab-view">\n\n  <app-chatslist [ngClass]="{hiddenTab: tabNavigationIndex != 0}"></app-chatslist>\n\n  <div id="requests-tab" class="tab-view" [ngClass]="{hiddenTab: tabNavigationIndex != 1}">\n  </div>\n\n  <app-search [ngClass]="{hiddenTab: tabNavigationIndex != 2}"></app-search>\n  </div>\n</div>\n'},730:function(e,t){e.exports='<div id="background">\r\n  <div class="login-page">\r\n    <div class="form">\r\n      <h2 class="fs-title">Registration page</h2>\r\n        <img [src]="profilePicture" (click)="imageInput.click()"/>\r\n        <input type="file" accept="image/*" #imageInput style="display: none" (change)="onImageSelected($event)"/>\r\n      <div class="login-form" (keyup)="validateForm()">\r\n        <div class="col-lg-6">\r\n          <input class="form-input" type="text" [(ngModel)]="firstName" placeholder="Name" />\r\n        </div>\r\n        <div class="col-lg-6">\r\n          <input type="text" [(ngModel)]="lastName" placeholder="Last Name" />\r\n        </div>\r\n        <div class="col-lg-6">\r\n          <input type="text" [(ngModel)]="nickname" placeholder="Nickname" />\r\n        </div>\r\n        <div class="col-lg-6">\r\n          <input type="text" [(ngModel)]="email" placeholder="Email" />\r\n        </div>\r\n        <div class="col-lg-6">\r\n          <input type="password" [(ngModel)]="password" placeholder="Password" />\r\n        </div>\r\n        <div class="col-lg-6">\r\n          <input type="password" [(ngModel)]="confirmPass" placeholder="Confirm Password" />\r\n        </div>\r\n        <button (click)="register()">Register</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},731:function(e,t){e.exports="<p>\n  requests works!\n</p>\n"},732:function(e,t){e.exports='<div id="search-tab" *ngIf="isReady">\n  <div id="search-title">\n    <h1>Find your friends</h1>\n  </div>\n  <div class="row search-bar">\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n      <div class="input-group">\n        <input type="text" class="form-control" placeholder="Search..." aria-label="..." [(ngModel)]="searchTerm.keywords">\n        <div class="input-group-btn">\n          <button type="button" class="btn btn-success" type="button" (click)="onSearchButtonClick()">\n            <i id="search-icon" class="fas fa-search"></i>\n          </button>\n        </div>\x3c!-- /btn-group --\x3e\n      </div>\x3c!-- /input-group --\x3e\n    </div>\x3c!-- /.row --\x3e\n  </div>\n\n  <hr/>\n\n  <div class="loader" *ngIf="loadingList"></div>\n\n  <div class="chat-item" *ngFor="let resultsItem of resultsList">\n    <div id="left-section" class="col-lg-2 col-md-3 col-sm-3 col-xs-3">\n      <img [src]="resultsItem.profile_picture">\n    </div>\n\n    <div id="middle-section" class="col-lg-7 col-md-6 col-sm-6 col-xs-6">\n      <div class="row">\n        <span>Name: </span> {{resultsItem.name}} {{resultsItem.last_name}}\n      </div>\n      <div class="row">\n        <span>Nickname: </span> {{resultsItem.nickname}}\n      </div>\n    </div>\n\n    <div id="right-section" class="col-lg-3 col-md-3 col-sm-3 col-xs-3">\n        <i id="add-button" class="fas fa-user-plus"></i>\n      \x3c!--<i id="pending-icon" class="fas fa-user-clock"></i>--\x3e\n    </div>\n  </div>\n\n</div>\n'},771:function(e,t){},772:function(e,t,n){e.exports=n(419)}},[772]);